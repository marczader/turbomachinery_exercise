Das Programm beginnt damit, drei unterschiedliche Datensätze einzulesen und einzurichten. Aus einer CSV-Datei werden Messdaten (df_1) geladen, die den Volumenstrom in m³/h enthalten. Zusätzlich werden zwei Referenz-Datensätze als DataFrames erstellt: Ein erster (df_2) enthält Kennliniendaten für den Pumpenkopf (also die Förderhöhe in Metern) in Abhängigkeit vom Volumenstrom, während ein zweiter (df_3) die Eingangsleistung (in kW) in Abhängigkeit vom Volumenstrom darstellt. Diese zusätzlichen Daten dienen als Grundlage dafür, die in der Pumpe wirkenden physikalischen Größen zu interpolieren und vergleichend auszuwerten.

Nach dem Laden der Daten werden grundlegende Umrechnungen und Konstanten definiert. Der Volumenstrom aus den Messdaten wird von m³/h in m³/s umgerechnet, da dies für die Berechnungen mit der Formel zur hydraulischen Leistung erforderlich ist. Für alle nachfolgenden Berechnungen wird außerdem angenommen, dass jedes Messintervall genau einer Minute entspricht – was als feste Zeitspanne in Stunden (1/60 h) abgelegt wird. Gleichzeitig werden die physikalischen Konstanten, wie die Dichte des Wassers (1000 kg/m³) und die Erdbeschleunigung (9.81 m/s²), definiert.

Im nächsten Schritt wird die Input-Energie der Pumpe berechnet. Dabei wird zuerst eine lineare Interpolationsfunktion untersucht, die aus den in df_3 bereitgestellten Kennliniendaten abgeleitet wird. Diese Funktion wandelt den in df_1 gemessenen Volumenstrom in einen entsprechenden Leistungswert um – also in die Eingangsleistung der Pumpe in kW. Anschließend wird basierend auf dem angenommenen Zeitintervall von einer Minute die pro Messpunkt entstehende Energie (in kWh) berechnet, indem man den Leistungswert mit 1/60 multipliziert. Die Summe dieser Einzelenergien über alle Messpunkte gibt dann den Gesamtenergieverbrauch der Pumpe aus Eingangsperspektive an.

Parallel dazu wird die hydraulische Energie ermittelt. Hierzu wird eine zweite Interpolationsfunktion aus den Kennliniendaten von df_2 genutzt, um aus dem Volumenstrom die Förderhöhe zu bestimmen. Mit Hilfe der Formel P = ρ · g · H · Q, in der ρ die Dichte, g die Erdbeschleunigung, H die pumpenspezifisch ermittelte Höhe und Q der umgerechnete Volumenstrom in m³/s ist, wird zunächst die momentane hydraulische Leistung in Watt berechnet; diese wird anschließend in kW umgerechnet. Wie bei der Input-Energie wird auch hier die Energie pro Intervall (in kWh) ermittelt, indem die momentane hydraulische Leistung mit dem Zeitintervall multipliziert wird. Die Summe über alle Messintervalle liefert den Gesamtwert der hydraulisch nutzbaren Energie. Der Wirkungsgrad der Pumpe lässt sich dann einfach als das Verhältnis der hydraulischen Energie zur Gesamteingangsenergie ausdrücken. Daraus wird ersichtlich, wie viel der eingesetzten Energie in nutzbare hydraulische Energie umgewandelt wird und welcher Anteil verloren geht – beides wird in Prozent angegeben.

Neben diesen Berechnungen enthält der Code auch verschiedene Visualisierungen, die das Betriebsverhalten der Pumpe und die Verteilung der Messwerte veranschaulichen. So werden beispielsweise Diagramme erstellt, die den zeitlichen Verlauf der geschätzten Leistung (sowohl die Eingangs- als auch die hydraulische Leistung) darstellen. Weitere Plots zeigen den kumulativen Energieverbrauch über den Messzeitraum, den gleitenden Mittelwert (Rolling Mean) zur Glättung von kurzfristigen Schwankungen sowie statistische Darstellungen wie Boxplots, die einen Überblick über die Verteilung der Leistungswerte bieten. Sogar Histogramme, die die Verteilung des Volumenstroms darstellen, sind integriert – all das liefert wichtige Einblicke in das dynamische Verhalten und mögliche Optimierungspotenziale der Anlagensteuerung.

Zusammengefasst ist das Programm ein umfassendes Werkzeug, das aus Messdaten grundlegende Energie- und Effizienzkennzahlen der Pumpe ableitet und diese durch mehrere Visualisierungen unterstützt. Die elegante Kombination aus Datentransformation, Interpolation und statistischer Auswertung ermöglicht es, den Betrieb der Pumpe detailliert zu analysieren – von der Eingangsleistung über die hydraulisch nutzbare Energie bis hin zu Verlusten und der Darstellung der zeitlichen Dynamik.
